# ラクエン Admin - プロジェクトルール

## useEffect の使用制限

useEffectは原則として使用禁止とする。

### 理由

- useEffectは副作用の管理が複雑になりやすい
- 依存配列の管理ミスによるバグが発生しやすい
- データフェッチにはより適切な手段がある

### 代替手段

| ユースケース | 推奨手段 |
|-------------|---------|
| データフェッチ | TanStack Query (React Query)、SWR、またはローダー関数 |
| イベントリスナー | イベントハンドラーで直接処理 |
| DOM操作 | ref と useRef を使用 |
| 外部ストアとの同期 | useSyncExternalStore |
| アニメーション | CSS、Framer Motion等のライブラリ |

### 許可される例外

以下の場合のみuseEffectの使用を許可する：

1. サードパーティライブラリとの統合で他に手段がない場合
2. レガシーコードの一時的な対応（要リファクタリングコメント）

例外的に使用する場合は、コメントで理由を明記すること：

```tsx
// useEffect使用理由: ○○ライブラリの初期化に必要
useEffect(() => {
  // ...
}, [])
```

## ディレクトリ構成

```
src/
├── components/   # 再利用可能なUIコンポーネント
├── layouts/      # ページレイアウト
├── pages/        # ページコンポーネント
└── router.tsx    # ルーティング設定
```

## コンポーネント命名規則

- コンポーネント: PascalCase (例: `Button.tsx`)
- Storyファイル: `*.stories.tsx`
- ページ: `pages/` 配下に配置
